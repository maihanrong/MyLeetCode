//: [Previous](@previous)

import Foundation

/*
 41.ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°
 ç»™ä½ ä¸€ä¸ªæœªæŽ’åºçš„æ•´æ•°æ•°ç»„ nums ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºçŽ°çš„æœ€å°çš„æ­£æ•´æ•°ã€‚
 è¯·ä½ å®žçŽ°æ—¶é—´å¤æ‚åº¦ä¸º O(n) å¹¶ä¸”åªä½¿ç”¨å¸¸æ•°çº§åˆ«é¢å¤–ç©ºé—´çš„è§£å†³æ–¹æ¡ˆã€‚
 
 ç¤ºä¾‹ 1ï¼š
 è¾“å…¥ï¼šnums = [1,2,0]
 è¾“å‡ºï¼š3
 
 ç¤ºä¾‹ 2ï¼š
 è¾“å…¥ï¼šnums = [3,4,-1,1]
 è¾“å‡ºï¼š2
 
 ç¤ºä¾‹ 3ï¼š
 è¾“å…¥ï¼šnums = [7,8,9,11,12]
 è¾“å‡ºï¼š1
 */

/*
 å®˜æ–¹æ€è·¯ï¼šå¸¸é‡çš„ç©ºé—´å¤æ‚åº¦ -> å“ˆå¸Œè¡¨
 1.å°†æ•°ç»„ä¸­è´Ÿæ•°çš„å€¼æ”¹ä¸ºN+1ï¼ŒNä¸ºæ•°ç»„é•¿åº¦ï¼Œå› ä¸ºæœ€ç»ˆçš„ç»“æžœæ˜¯åœ¨1...N+1çš„åŒºé—´å†…
 2.å°†<Nçš„å€¼ä½œä¸ºä¸‹æ ‡ï¼Œåœ¨æ•°ç»„å¯¹åº”çš„ä½ç½®çš„å€¼è®¾ç½®ä¸ºè´Ÿæ•°
 3.éåŽ†1...Nï¼Œæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæ­£æ•°çš„ä¸‹æ ‡å°±æ˜¯ç¼ºå¤±çš„
 
 åšå›°éš¾çš„é¢˜çœŸçš„è¦è€ƒè™‘ä¸€æ³¢æ—¶é—´æˆæœ¬ðŸ¶
 */
func firstMissingPositive(_ nums: [Int]) -> Int {
    var nums = nums
    let lenght = nums.count
    for i in 0..<lenght { // ç¬¬ä¸€ééåŽ†æŠŠæ•°ç»„æ”¹ä¸ºéžè´Ÿæ•°ç»„
        if nums[i] <= 0 {
            nums[i] = lenght+1
        }
    }
    for i in 0..<lenght { // ç¬¬äºŒééåŽ†æŠŠæ•°ç»„ä¸­å‡ºçŽ°çš„å€¼ä½œä¸ºä¸‹æ ‡ï¼Œè®¾ç½®ä¸‹æ ‡å¯¹åº”çš„å€¼ä¸ºè´Ÿæ•°
        let num = abs(nums[i])
        if num > 0 && num <= lenght {
            nums[num-1] = -abs(nums[num-1])
        }
    }
    for i in 0..<lenght { // ç¬¬ä¸‰ééåŽ†å–ç¬¬ä¸€ä¸ªæ­£æ•°å€¼çš„ä¸‹æ ‡
        if nums[i] > 0 {
            return i + 1
        }
    }
    return lenght+1
}

firstMissingPositive([1])
firstMissingPositive([3,4,-1,1])
firstMissingPositive([7,8,9,11,12])
